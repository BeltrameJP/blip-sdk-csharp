{
    "identifier": "teste70",
    "accessKey": "T1p1Z2xSV0prMjFUaGxKbkFPOVo=",
    "hostName": "hmg-tcp.msging.net",
    "port": 443,
    "messageReceivers": [
        {
            "type": "BuilderMessageReceiver"
        }
    ],
    "notificationReceivers": [
        {
            "type": "BuilderDeskNotificationReceiver"
        }
    ],
    "serviceProviderType": "BuilderServiceProvider",
    "settings": {
        "flow": {
            "id": "3b64cd3d-a27f-4d8d-b3dd-47287cf545fe",
            "states": [
                {
                    "id": "onboarding",
                    "root": true,
                    "name": "Início",
                    "inputActions": [],
                    "input": {
                        "bypass": false
                    },
                    "outputActions": [],
                    "outputs": [
                        {
                            "stateId": "06ed7d62-6941-42e6-b120-ba367cf80729",
                            "conditions": [
                                {
                                    "source": "input",
                                    "comparison": "exists",
                                    "values": []
                                }
                            ]
                        },
                        {
                            "stateId": "fallback"
                        }
                    ]
                },
                {
                    "id": "fallback",
                    "name": "Exceções",
                    "inputActions": [],
                    "input": {
                        "bypass": true
                    },
                    "outputActions": [],
                    "outputs": [
                        {
                            "stateId": "error",
                            "conditions": [
                                {
                                    "source": "input",
                                    "comparison": "matches",
                                    "values": [
                                        ".*"
                                    ]
                                }
                            ]
                        },
                        {
                            "stateId": "onboarding"
                        }
                    ]
                },
                {
                    "id": "error",
                    "name": "Erro padrão",
                    "inputActions": [
                        {
                            "type": "SendMessage",
                            "settings": {
                                "id": "00000000-0000-0000-0000-000000000002",
                                "type": "application/vnd.lime.chatstate+json",
                                "content": {
                                    "state": "composing",
                                    "interval": 1000
                                },
                                "metadata": {
                                    "#stateName": "{{state.name}}",
                                    "#stateId": "{{state.id}}",
                                    "#messageId": "{{input.message@id}}"
                                }
                            }
                        },
                        {
                            "type": "SendMessage",
                            "settings": {
                                "id": "00000000-0000-0000-0000-000000000003",
                                "type": "text/plain",
                                "content": "Desculpe, não consegui entender!",
                                "metadata": {
                                    "#stateName": "{{state.name}}",
                                    "#stateId": "{{state.id}}",
                                    "#messageId": "{{input.message@id}}"
                                }
                            }
                        }
                    ],
                    "input": {
                        "bypass": true
                    },
                    "outputActions": [],
                    "outputs": [
                        {
                            "stateId": "onboarding"
                        }
                    ]
                },
                {
                    "id": "06ed7d62-6941-42e6-b120-ba367cf80729",
                    "root": false,
                    "name": "Novo bloco1",
                    "inputActions": [
                        {
                            "type": "SendMessage",
                            "settings": {
                                "id": "74386e2b-aacc-43b2-a0f5-e95d8515bee7",
                                "type": "text/plain",
                                "content": "Entrou no bloco do regex",
                                "metadata": {
                                    "#stateName": "{{state.name}}",
                                    "#stateId": "{{state.id}}",
                                    "#messageId": "{{input.message@id}}"
                                }
                            }
                        }
                    ],
                    "input": {
                        "bypass": false,
                        "validation": {
                            "rule": "regex",
                            "error": "Deu ruim, torta",
                            "regex": "(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])"
                        }
                    },
                    "outputActions": [],
                    "outputs": [
                        {
                            "stateId": "76a7576d-759a-4376-9172-8aa5fe05d400",
                            "conditions": [
                                {
                                    "source": "input",
                                    "comparison": "exists",
                                    "values": []
                                }
                            ]
                        },
                        {
                            "stateId": "fallback"
                        }
                    ]
                },
                {
                    "id": "76a7576d-759a-4376-9172-8aa5fe05d400",
                    "root": false,
                    "name": "Novo bloco2",
                    "inputActions": [
                        {
                            "type": "SendMessage",
                            "settings": {
                                "id": "96676f8c-728f-43b5-b42c-9fb2511246a7",
                                "type": "application/vnd.lime.chatstate+json",
                                "content": {
                                    "state": "composing",
                                    "interval": 1000
                                },
                                "metadata": {
                                    "#stateName": "{{state.name}}",
                                    "#stateId": "{{state.id}}",
                                    "#messageId": "{{input.message@id}}"
                                }
                            }
                        },
                        {
                            "type": "SendMessage",
                            "settings": {
                                "id": "23890b74-cc12-4536-82a9-07e4ac410497",
                                "type": "text/plain",
                                "content": "Deu match, só chamar pra sair",
                                "metadata": {
                                    "#stateName": "{{state.name}}",
                                    "#stateId": "{{state.id}}",
                                    "#messageId": "{{input.message@id}}"
                                }
                            }
                        }
                    ],
                    "input": {
                        "bypass": false
                    },
                    "outputActions": [],
                    "outputs": [
                        {
                            "stateId": "fallback"
                        }
                    ]
                }
            ],
            "configuration": {
                "builder:minimumIntentScore": "0.5",
                "builder:stateTrack": "false",
                "builder:useTunnelOwnerContext": "false"
            },
            "inputActions": [],
            "outputActions": []
        }
    },
    "settingsType": "BuilderSettings"
}